PLAN MODE — Visual Parity Fix Block

Objective
Restore vanilla visual parity by correcting camera/world scale, entity sizes, and conditional shield rendering. Result should match the vanilla HTML look/feel (ship ~50px tall, clearly visible bullets, correctly sized asteroids with the intended style), with the shield ring shown only during invulnerability/shields.

Symptoms reported
	•	Always-visible cyan ring around ship (should appear only during invuln/shield, ~3s on wave start).
	•	Bullets are extremely small / hard to see.
	•	Asteroids appear as tiny gray balls; overall scale feels mini.
	•	This likely began after switching to a pixel-perfect ortho mapping (1 world unit = 1 CSS px), which conflicts with vanilla’s world-unit system.

What to audit (read-only first)
Files:
	•	reactShell/src/game/render/Scene.ts (camera/frustum)
	•	reactShell/src/game/GameCanvas.tsx (resize, screen→world mapping)
	•	reactShell/src/game/entities/Ship.ts (shield visual, size, rotation)
	•	reactShell/src/game/entities/Bullet.ts (geometry/size)
	•	reactShell/src/game/entities/Asteroid.ts (visuals, radii)
	•	reactShell/src/game/systems/Spawning.ts (world bounds usage)
	•	reactShell/src/game/GameState.ts (invuln timers/shield charges)

Source of truth for scale
Use vanilla world numbers we already standardized in the plan:
	•	WORLD: 750 × 498
	•	Visible window ≈ 1/5 of world → target visible height = 99.6 world units, width ~ 150 world units at 16:9-ish aspect.
	•	Wrapping at ±375, ±249 world units.
	•	Ship desired on-screen height ≈ 50 px.
	•	Bullet visual radius ≈ 3–4 px (readable).
	•	Asteroids radii (world units): large=6, medium=3.5, small=2 (these must look right once camera scale is corrected).

Plan of record (do in this order)
	1.	Camera & world-unit restoration
	•	Revert the pixel-perfect “1 unit = 1 px” mapping.
	•	Implement an orthographic camera whose frustum height is VISIBLE_HEIGHT = 99.6 world units at any window size.
	•	Compute frustum width from aspect ratio.
	•	Update resize handler to preserve that world-unit height.
	•	Update screen↔world converters accordingly.
	•	Confirm world wrapping still uses ±375/±249.
	2.	Shield ring visibility & style
	•	In Ship.ts, the cyan ring (shield mesh) should render only when:
	•	invulnerability timers are active (wave start, respawn, recent hit), or
	•	GameState.shields > 0.
	•	When not active: set visible=false (not just opacity).
	•	Ensure wave-start invuln is 3s (as implemented in Block 7).
	•	Keep opacity ~0.6 when visible; ensure it disappears cleanly after timers.
	3.	Entity visual sizing pass
	•	Ship: keep the texture-based scaling set by Ship.setPixelHeight(50) but ensure pixel->world conversion uses the corrected camera (i.e., 50 px on screen regardless of DPI/window).
	•	Bullets: choose a fixed pixel radius (e.g., 3 px). Convert to world units via camera DPI helper and build a sphere/point size that reads clearly.
	•	Asteroids: enforce world radii (6/3.5/2). Their screen size will become correct once camera scaling is fixed. Keep them simple discs for now, but use a softer material (slight emissive / alpha) so they don’t look like tiny dull dots.
	4.	Styling parity tweaks
	•	Slight bloom on bullets and pickups to increase readability (threshold/strength already in PostFX).
	•	Ensure minimap dots scale independently and remain readable.
	5.	Dev tuning (temporary)
	•	Add a hidden dev slider (`` key) for bullet pixel radius (2–6 px) and ship pixel height (40–60 px). This should update live via conversion helpers, but the shipped defaults must be Ship=50 px, Bullet=3–4 px.

Acceptance Criteria
	•	With no upgrades:
	•	On wave start, ship shows ring for ~3s then it vanishes.
	•	Ship appears ~50 px tall.
	•	Bullets visibly sized (~3–4 px), easy to track.
	•	Asteroids visibly sized per vanilla (large clearly bigger than small).
	•	Wrapping works at ±375/±249 world units.
	•	Minimap still aligns to world bounds.
	•	No permanent always-on ring around ship.
	•	No changes to gameplay timings or physics values.

Where to implement
	•	Scene.ts: frustum height lock = 99.6 world units, resize math, converters.
	•	GameCanvas.tsx: use converters, remove any “1 unit = 1 px” remnants.
	•	Ship.ts: shield visible gating, keep setPixelHeight() but base it on new converters.
	•	Bullet.ts: pixel→world sizing helper for radius; default 3–4 px.
	•	Asteroid.ts: confirm radii in world units and materials readable.
	•	Optional helpers: render/CameraUtils.ts for pixel↔world conversions.

Output
	•	Single unified diff to diffs/visual_parity_fix_[timestamp].diff.
	•	One commit: "Fix camera/world scale, conditional shield ring, and readable entity sizes".