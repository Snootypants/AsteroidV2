Here’s the Block 6 execution prompt for Sonnet. Drop it in.

EXECUTION MODE — Implement Particles & Debris (pooled, performant). Output ONE unified diff under `/diffs/` only. Then commit and push.

Scope
- NEW: /AsteroidsV2/reactShell/src/game/entities/Particles.ts
- NEW: /AsteroidsV2/reactShell/src/game/entities/Debris.ts
- UPDATE: /AsteroidsV2/reactShell/src/game/GameCanvas.tsx
- UPDATE: /AsteroidsV2/reactShell/src/game/systems/Collision.ts
- (Optional) UPDATE: /AsteroidsV2/reactShell/src/ui/DevPanel.tsx (counters only)

Requirements

1) Particles (hit/explosion bursts)
- Object pool (configurable, default 400–600 sprites/points). No runtime alloc churn.
- API:
  ```ts
  export type BurstOpts = { count:number; color?:number; speed?:number; lifeMs?:number; size?:number };
  export function createParticles(scene:THREE.Scene){
    return {
      burst(pos:THREE.Vector2, opts:BurstOpts): void,
      update(dt:number): void,
      activeCount(): number
    };
  }

	•	Each particle stores pos, vel, ttl; fades out over life; removed back to pool.
	•	Visual: lightweight (THREE.Points with dynamic buffer or tiny Sprites). Keep GPU-friendly.

	2.	Debris (tetrahedrons, pooled = 220)

	•	Geometry: prebuilt tetrahedron (one BufferGeometry), material reused.
	•	API:

export function createDebris(scene:THREE.Scene){
  return {
    spawn(pos:THREE.Vector2, count:number, baseSpeed:number): void,
    update(dt:number): void,
    activeCount(): number
  };
}


	•	Each piece stores pos, vel, angular velocity, life; fades and returns to pool.
	•	Trigger from larger events (asteroid split/destroy, ship hit).

	3.	Integration points

	•	In Collision.ts:
	•	On bullet↔asteroid hit: small particle burst; on asteroid destroy/split: bigger burst + debris spawn proportional to size (e.g., L=20, M=12, S=6).
	•	On ship↔asteroid hit: distinct color burst + a few debris pieces.
	•	In GameCanvas.tsx:
	•	Instantiate particles and debris; call update(dt) each frame after collisions.
	•	Optionally send activeCount() totals into DevPanel stats if present.

	4.	Constants (inline defaults; match vanilla feel)

	•	PARTICLES:
	•	default count 12 (hit), 28 (destroy), color #ffffff, speed 60–120, life 450–900ms, size 2–3px.
	•	DEBRIS:
	•	pool 220, life 900–1400ms, baseSpeed ~40–80, angular vel small.

	5.	Performance

	•	No per-frame allocations; reuse arrays/typed buffers.
	•	Avoid creating materials per instance (share materials).
	•	Keep draw calls low (prefer batched Points over many Sprites where feasible).

Constraints
	•	Do NOT alter physics constants already established.
	•	No PostFX changes.
	•	No new dependencies.

Acceptance tests
	•	Shooting an asteroid produces a visible particle burst; destroying one produces a larger burst plus flying debris; counts decay over time.
	•	Pooling verified: sustained fire does not degrade FPS, no growing memory.
	•	DevPanel (if updated) shows nonzero particle/debris counts during action and they drop back toward zero when idle.

Deliverable
	•	Print ONE timestamped unified diff under /diffs/ with all new/updated files. No truncation/summaries.
	•	Then commit and push with message: “Add pooled Particles and Debris systems and integrate with collisions”.

