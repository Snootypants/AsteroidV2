EXECUTION MODE — add Dev Panel (toggle with backtick). Output ONE unified diff under `/diffs/` only. Then commit and push.

Goal
- Build a lightweight in-app Dev Panel to speed TS’ing:
  - Toggle with backtick (`).
  - Sections: FPS, Entities, Ship, Input, Logs.
  - Simple logging API: `window.debug.log/info/warn/error(...)`.

Scope (create/update only these)
- NEW: `/AsteroidsV2/reactShell/src/dev/DebugBus.ts`
- NEW: `/AsteroidsV2/reactShell/src/ui/DevPanel.tsx`
- UPDATE: `/AsteroidsV2/reactShell/src/App.tsx` (toggle + mount)
- UPDATE: `/AsteroidsV2/reactShell/src/game/GameCanvas.tsx` (stats feed)
- UPDATE: `/AsteroidsV2/reactShell/src/styles.css` (append minimal styles)

Requirements

1) DebugBus (singleton)
- File: `src/dev/DebugBus.ts`
- Expose:
  ```ts
  export type LogLevel = 'log'|'info'|'warn'|'error';
  export type LogEntry = { t:number; level:LogLevel; msg:string };
  export const DebugBus: {
    subscribe(cb:(entries:LogEntry[])=>void):()=>void; // returns unsubscribe
    push(level:LogLevel, ...args:any[]):void;
    get(): LogEntry[];
    setMax(n:number):void; // default 500
  };

	•	Keep a ring buffer (default 500). Format args via JSON.stringify fallback, join by space.
	•	Attach helpers on window.debug:

(window as any).debug = {
  log: (...a:any[]) => DebugBus.push('log', ...a),
  info: (...a:any[]) => DebugBus.push('info', ...a),
  warn: (...a:any[]) => DebugBus.push('warn', ...a),
  error: (...a:any[]) => DebugBus.push('error', ...a),
};



	2.	DevPanel UI

	•	File: src/ui/DevPanel.tsx
	•	Props:

type DevStats = {
  fps:number;
  entities:{ ships:number; asteroids:number; bullets:number; other:number };
  ship?: { x:number; y:number; vx:number; vy:number; angleDeg:number; pxHeight:number };
  input?: { thrust:boolean; left:boolean; right:boolean; fire:boolean; mouseX:number; mouseY:number };
};
export function DevPanel({ visible, stats }:{ visible:boolean; stats:DevStats }): JSX.Element | null


	•	Layout (fixed, resizable not required):
	•	Top row: FPS (1-decimal), entity counts.
	•	Grid/rows: Ship (position/velocity/angle/px), Input states.
	•	Logs section (auto-scroll to bottom, last ~500).
	•	Buttons: “Clear Logs”, “Copy Logs”.
	•	Subscribe to DebugBus to display log stream.

	3.	App integration

	•	In App.tsx:
	•	Add const [showDev, setShowDev] = useState(false);
	•	Backtick toggle:

useEffect(() => {
  const onKey = (e: KeyboardEvent) => { if (e.code === 'Backquote') setShowDev(v=>!v); };
  window.addEventListener('keydown', onKey);
  return () => window.removeEventListener('keydown', onKey);
}, []);


	•	Render <DevPanel visible={showDev} stats={/* from GameCanvas via prop */} />.

	4.	GameCanvas stats feed

	•	In GameCanvas.tsx, compute:
	•	FPS via rolling average over the last ~30 frames (store in ref).
	•	Entities: report counts from whatever exists now (at minimum ships:1, others 0).
	•	Ship state: read from Ship instance (position, velocity, angle in degrees, pxHeight if available).
	•	Input state: from Input (thrust/left/right/fire + mouse screen coords).
	•	Lift these into a useState<DevStats> and update once per frame (or ~10 Hz using a throttle to avoid re-render spam).
	•	Pass stats up to App via a prop callback:
	•	Add prop on <GameCanvas onStats={(s:DevStats)=>setStats(s)} />.
	•	In App.tsx, keep const [stats, setStats] = useState<DevStats>(/* defaults */); and pass to <DevPanel>.

	5.	Styles (append to styles.css)

	•	Minimal:

.dev-panel {
  position: fixed; right: 12px; bottom: 12px; z-index: 100000;
  width: 360px; max-height: 60vh; overflow: hidden;
  background: rgba(0,0,0,.85); color:#e6e6e6; border:1px solid rgba(255,255,255,.2);
  border-radius: 8px; box-shadow: 0 4px 16px rgba(0,0,0,.5);
  font: 12px/1.35 system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
}
.dev-panel h4 { margin: 8px 10px; font-size: 12px; color:#9fd3ff; }
.dev-panel .sec { padding: 6px 10px; border-top:1px solid rgba(255,255,255,.08); }
.dev-panel .row { display:flex; justify-content:space-between; gap:8px; }
.dev-panel .logs { height: 180px; overflow:auto; background: rgba(255,255,255,.03); padding:6px 8px; font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; }
.dev-panel .btns { display:flex; gap:8px; margin:6px 10px 10px; }
.dev-panel button { background:#1f2937; color:#fff; border:1px solid rgba(255,255,255,.2); border-radius:6px; padding:4px 8px; cursor:pointer; }
.dev-panel button:hover { background:#111827; }



	6.	Convenience hooks

	•	On mount of GameCanvas, push a greeting to logs:

DebugBus.push('info', 'DevPanel ready');


	•	Catch runtime errors into the log (optional):

window.addEventListener('error', e => DebugBus.push('error', e.message));
window.addEventListener('unhandledrejection', e => DebugBus.push('error', (e.reason && e.reason.message) || 'unhandled rejection'));

(Guard to avoid duplicate listeners on HMR.)

Constraints
	•	Do NOT change gameplay (physics, controls, PostFX).
	•	Keep panel entirely optional (controlled by backtick).
	•	No dependencies beyond what’s already in the repo.

Deliverable
	•	Print ONE timestamped unified diff under /diffs/ with the full patch (new files + edits + styles). No truncation/summaries.
	•	After printing, commit and push.
